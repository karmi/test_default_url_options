  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (24.6ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBooks (20081022170707)
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "author" varchar(255), "title" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20081022170707')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("books")[0m


Processing ApplicationController#index (for 127.0.0.1 at 2008-10-22 19:07:44) [GET]
  Session ID: 58e04551eb053336314aa6f32b0fef0a
  Parameters: {}


ActionController::RoutingError (No route matches "/" with {:method=>:get}):
    /vendor/rails/actionpack/lib/action_controller/routing/recognition_optimisation.rb:66:in `recognize_path'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:385:in `recognize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:179:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 19:07:49) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 85ms (View: 4, DB: 1) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 19:11:19) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 19:11:21) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 19:12:36) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 295ms (View: 290, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 19:13:34) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 19:13:40) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 19:13:53) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 19:15:08) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 22:54:04) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 22:54:11) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 22:54:26) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 22:54:48) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 22:54:56) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 22:55:03) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing ActionController::Base#index (for 127.0.0.1 at 2008-10-22 22:57:15) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {}


SyntaxError (/Users/karmi/Playground/Rails/test_default_url_options/app/controllers/application.rb:26: syntax error, unexpected ':', expecting kEND
    params[:locale]  : nil
                      ^
/Users/karmi/Playground/Rails/test_default_url_options/app/controllers/application.rb:31: syntax error, unexpected ':', expecting kEND
    parsed_locale  : nil
                    ^):
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:368:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:368:in `load_file'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:367:in `load_file'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:248:in `require_or_load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:213:in `depend_on'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:133:in `require_dependency'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:18:in `define_dispatcher_callbacks'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `call'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `evaluate_method'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:166:in `call'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `run'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `each'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `send'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `run'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:277:in `run_callbacks'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:143:in `reload_application'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `send'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `evaluate_method'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:166:in `call'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `run'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `each'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `send'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:90:in `run'
    /vendor/rails/activesupport/lib/active_support/callbacks.rb:277:in `run_callbacks'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:106:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (124.2ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.9ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 22:57:28) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'localhost'
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 22:58:13) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'localhost'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:00:23) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/books
Rendering books/index
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:00:51) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:00:59) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:01:08) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:01:33) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:01:39) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books?locale=cz]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:02:26) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/books?locale=cz]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:02:35) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books?locale=cz]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:02:54) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"de"}
Locale set to 'de'
  [4;36;1mBook Load (1.2ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 12ms (View: 6, DB: 1) | 200 OK [http://localhost/books?locale=de]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:02:57) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"xx"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books?locale=xx]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:02:59) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;36;1mBook Load (1.1ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 12ms (View: 5, DB: 1) | 200 OK [http://localhost/books?locale=cz]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:03:11) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books?locale=cz]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:03:25) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"de"}
Locale set to 'de'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books?locale=de]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:04:24) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"de"}
Locale set to 'de'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/books?locale=de]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:04:55) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"de"}
Locale set to 'de'
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


ActionView::TemplateError (undefined local variable or method `new_l_book_path' for #<ActionView::Base:0x185afc4>) on line #18 of app/views/layouts/application.html.erb:
15: <br>
16: <%= new_book_path %>
17: <br>
18: <%= new_l_book_path %>
19: <br>
20: <%= debug params %>
21: <br>

    app/views/layouts/application.html.erb:18
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:360:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (32.7ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.8ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:05:03) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"de"}
Locale set to 'de'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 99ms (View: 94, DB: 0) | 200 OK [http://localhost/books?locale=de]


Processing BooksController#new (for 127.0.0.1 at 2008-10-22 23:05:10) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--99d4025fcbbb4dcf2b452fc899de0413dd87dc3d
  Parameters: {"action"=>"new", "controller"=>"books", "locale"=>"de"}
Locale set to 'de'
Rendering template within layouts/application
Rendering books/new
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/de/books/new]


Processing BooksController#create (for 127.0.0.1 at 2008-10-22 23:05:14) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"commit"=>"Create", "authenticity_token"=>"54b1cc0739b29cf33e49b54c71b28265129bf28c", "action"=>"create", "controller"=>"books", "locale"=>"de", "book"=>{"title"=>"", "author"=>""}}
Locale set to 'de'
  [4;36;1mBook Create (0.5ms)[0m   [0;1mINSERT INTO "books" ("updated_at", "title", "author", "created_at") VALUES('2008-10-22 21:05:14', '', '', '2008-10-22 21:05:14')[0m
Redirected to #<Book:0x23e7c48>


ActionController::RoutingError (book_url failed to generate from {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">}):
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    /vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    /vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    /vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    /vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    (eval):15:in `book_url'
    /vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    /vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    /vendor/rails/actionpack/lib/action_controller/base.rb:637:in `url_for'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1067:in `redirect_to'
    /app/controllers/books_controller.rb:48:in `create'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    /app/controllers/books_controller.rb:45:in `create'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:05:27) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoLbm90aWNlIiNCb29rIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwdG--5af1ecbbc92c333c9e48c77a841961937c10f5be
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"de"}
Locale set to 'de'
  [4;35;1mBook Load (0.5ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">}) on line #13 of app/views/books/index.html.erb:
10:   <tr>
11:     <td><%=h book.author %></td>
12:     <td><%=h book.title %></td>
13:     <td><%= link_to 'Show', book %></td>
14:     <td><%= link_to 'Edit', edit_book_path(book) %></td>
15:     <td><%= link_to 'Destroy', book, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:118:in `polymorphic_path'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:91:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:228:in `link_to'
    app/views/books/index.html.erb:13
    app/views/books/index.html.erb:9:in `each'
    app/views/books/index.html.erb:9
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (36.4ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.0ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:05:30) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoLbm90aWNlIiNCb29rIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwdU--9a4666b70f0b599fab43920b2b10db860a1eb400
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"de"}
Locale set to 'de'
  [4;36;1mBook Load (0.6ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">}) on line #13 of app/views/books/index.html.erb:
10:   <tr>
11:     <td><%=h book.author %></td>
12:     <td><%=h book.title %></td>
13:     <td><%= link_to 'Show', book %></td>
14:     <td><%= link_to 'Edit', edit_book_path(book) %></td>
15:     <td><%= link_to 'Destroy', book, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:118:in `polymorphic_path'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:91:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:228:in `link_to'
    app/views/books/index.html.erb:13
    app/views/books/index.html.erb:9:in `each'
    app/views/books/index.html.erb:9
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (36.5ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.8ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2008-10-22 23:05:32) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {}


ActionController::RoutingError (No route matches "/de/" with {:method=>:get}):
    /vendor/rails/actionpack/lib/action_controller/routing/recognition_optimisation.rb:66:in `recognize_path'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:385:in `recognize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:179:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2008-10-22 23:05:34) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {}


ActionController::RoutingError (No route matches "/" with {:method=>:get}):
    /vendor/rails/actionpack/lib/action_controller/routing/recognition_optimisation.rb:66:in `recognize_path'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:385:in `recognize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:179:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:05:39) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.5ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">}) on line #13 of app/views/books/index.html.erb:
10:   <tr>
11:     <td><%=h book.author %></td>
12:     <td><%=h book.title %></td>
13:     <td><%= link_to 'Show', book %></td>
14:     <td><%= link_to 'Edit', edit_book_path(book) %></td>
15:     <td><%= link_to 'Destroy', book, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:118:in `polymorphic_path'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:91:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:228:in `link_to'
    app/views/books/index.html.erb:13
    app/views/books/index.html.erb:9:in `each'
    app/views/books/index.html.erb:9
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (37.3ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.9ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2008-10-22 23:05:44) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {}


ActionController::RoutingError (No route matches "/l_books" with {:method=>:get}):
    /vendor/rails/actionpack/lib/action_controller/routing/recognition_optimisation.rb:66:in `recognize_path'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:385:in `recognize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:179:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2008-10-22 23:05:51) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {}


ActionController::RoutingError (No route matches "/buks" with {:method=>:get}):
    /vendor/rails/actionpack/lib/action_controller/routing/recognition_optimisation.rb:66:in `recognize_path'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:385:in `recognize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:179:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:05:58) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"en"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">}) on line #13 of app/views/books/index.html.erb:
10:   <tr>
11:     <td><%=h book.author %></td>
12:     <td><%=h book.title %></td>
13:     <td><%= link_to 'Show', book %></td>
14:     <td><%= link_to 'Edit', edit_book_path(book) %></td>
15:     <td><%= link_to 'Destroy', book, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:118:in `polymorphic_path'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:91:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:228:in `link_to'
    app/views/books/index.html.erb:13
    app/views/books/index.html.erb:9:in `each'
    app/views/books/index.html.erb:9
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (134.3ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.8ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:06:17) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.6ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">}) on line #13 of app/views/books/index.html.erb:
10:   <tr>
11:     <td><%=h book.author %></td>
12:     <td><%=h book.title %></td>
13:     <td><%= link_to 'Show', book %></td>
14:     <td><%= link_to 'Edit', edit_book_path(book) %></td>
15:     <td><%= link_to 'Destroy', book, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:118:in `polymorphic_path'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:91:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:228:in `link_to'
    app/views/books/index.html.erb:13
    app/views/books/index.html.erb:9:in `each'
    app/views/books/index.html.erb:9
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (37.9ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.0ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:06:21) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;35;1mBook Load (0.6ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">}) on line #13 of app/views/books/index.html.erb:
10:   <tr>
11:     <td><%=h book.author %></td>
12:     <td><%=h book.title %></td>
13:     <td><%= link_to 'Show', book %></td>
14:     <td><%= link_to 'Edit', edit_book_path(book) %></td>
15:     <td><%= link_to 'Destroy', book, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:118:in `polymorphic_path'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:91:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:228:in `link_to'
    app/views/books/index.html.erb:13
    app/views/books/index.html.erb:9:in `each'
    app/views/books/index.html.erb:9
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (37.1ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.8ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:06:24) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 1, author: "", title: "", created_at: "2008-10-22 21:05:14", updated_at: "2008-10-22 21:05:14">}) on line #13 of app/views/books/index.html.erb:
10:   <tr>
11:     <td><%=h book.author %></td>
12:     <td><%=h book.title %></td>
13:     <td><%= link_to 'Show', book %></td>
14:     <td><%= link_to 'Edit', edit_book_path(book) %></td>
15:     <td><%= link_to 'Destroy', book, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:118:in `polymorphic_path'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:91:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:228:in `link_to'
    app/views/books/index.html.erb:13
    app/views/books/index.html.erb:9:in `each'
    app/views/books/index.html.erb:9
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (136.1ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.2ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)
  [4;36;1mBook Delete all (3.4ms)[0m   [0;1mDELETE FROM "books" WHERE 1=1[0m


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:06:44) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/books?locale=cz]


Processing BooksController#new (for 127.0.0.1 at 2008-10-22 23:07:01) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"new", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
Rendering template within layouts/application
Rendering books/new
Completed in 14ms (View: 8, DB: 0) | 200 OK [http://localhost/cz/books/new]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:07:07) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"en"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/books?locale=en]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:07:12) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"en"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/en/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:10:06) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"en"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


use_routenew_bookcontrollerbooksactionnewonly_pathtrue



controllerbooksactionindexonly_pathtrue



use_routenew_bookcontrollerbooksactionnewonly_pathtrue



use_routenew_l_bookcontrollerl_booksactionnewonly_pathtrue

Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/en/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:10:20) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"en"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/en/books]


Processing BooksController#new (for 127.0.0.1 at 2008-10-22 23:10:43) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"new", "controller"=>"books", "locale"=>"en-US"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering books/new


{:use_route=>:books, :controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:books, :controller=>"books", :action=>"index", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

Completed in 13ms (View: 8, DB: 0) | 200 OK [http://localhost/en-US/books/new]


Processing BooksController#create (for 127.0.0.1 at 2008-10-22 23:10:44) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"commit"=>"Create", "authenticity_token"=>"54b1cc0739b29cf33e49b54c71b28265129bf28c", "action"=>"create", "controller"=>"books", "locale"=>"en-US", "book"=>{"title"=>"", "author"=>""}}
Locale set to 'en-US'
  [4;36;1mBook Create (0.5ms)[0m   [0;1mINSERT INTO "books" ("updated_at", "title", "author", "created_at") VALUES('2008-10-22 21:10:44', '', '', '2008-10-22 21:10:44')[0m
Redirected to #<Book:0x16037d0>


{:use_route=>:book, :locale=>#<Book id: 2, author: "", title: "", created_at: "2008-10-22 21:10:44", updated_at: "2008-10-22 21:10:44">, :controller=>"books", :only_path=>false, :action=>"show"}



ActionController::RoutingError (book_url failed to generate from {:locale=>#<Book id: 2, author: "", title: "", created_at: "2008-10-22 21:10:44", updated_at: "2008-10-22 21:10:44">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 2, author: "", title: "", created_at: "2008-10-22 21:10:44", updated_at: "2008-10-22 21:10:44">}):
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    /vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    /vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    /vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    /vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    (eval):15:in `book_url'
    /vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    /vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    /vendor/rails/actionpack/lib/action_controller/base.rb:637:in `url_for'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1067:in `redirect_to'
    /app/controllers/books_controller.rb:48:in `create'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    /app/controllers/books_controller.rb:45:in `create'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:10:46) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoLbm90aWNlIiNCb29rIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwdG--5af1ecbbc92c333c9e48c77a841961937c10f5be
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"en-US"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.7ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:book, :locale=>#<Book id: 2, author: "", title: "", created_at: "2008-10-22 21:10:44", updated_at: "2008-10-22 21:10:44">, :controller=>"books", :action=>"show", :only_path=>true}



ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 2, author: "", title: "", created_at: "2008-10-22 21:10:44", updated_at: "2008-10-22 21:10:44">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 2, author: "", title: "", created_at: "2008-10-22 21:10:44", updated_at: "2008-10-22 21:10:44">}) on line #13 of app/views/books/index.html.erb:
10:   <tr>
11:     <td><%=h book.author %></td>
12:     <td><%=h book.title %></td>
13:     <td><%= link_to 'Show', book %></td>
14:     <td><%= link_to 'Edit', edit_book_path(book) %></td>
15:     <td><%= link_to 'Destroy', book, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:118:in `polymorphic_path'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:91:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:228:in `link_to'
    app/views/books/index.html.erb:13
    app/views/books/index.html.erb:9:in `each'
    app/views/books/index.html.erb:9
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (36.7ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.9ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)
  [4;36;1mBook Delete all (3.4ms)[0m   [0;1mDELETE FROM "books" WHERE 1=1[0m


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:18:18) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoLbm90aWNlIiNCb29rIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwdU--9a4666b70f0b599fab43920b2b10db860a1eb400
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"en-US"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/en-US/books]


Processing BooksController#new (for 127.0.0.1 at 2008-10-22 23:18:30) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"new", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
Rendering template within layouts/application
Rendering books/new


{:use_route=>:books, :controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:books, :controller=>"books", :action=>"index", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

Completed in 62ms (View: 56, DB: 0) | 200 OK [http://localhost/cz/books/new]


Processing BooksController#index (for 127.0.0.1 at 2008-10-22 23:18:39) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/cz/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 00:05:13) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/cz/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:30:04) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/cz/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:30:07) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"de"}
Locale set to 'de'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/de/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:31:32) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


ActionView::TemplateError (new_book_url failed to generate from {:controller=>"books", :action=>"new"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: [:locale, "books", "new"] - are they all satisfied?) on line #22 of app/views/books/index.html.erb:
19: 
20: <br />
21: 
22: <%= link_to 'New book', new_book_path %>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:380:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):17:in `new_book_path'
    app/views/books/index.html.erb:22
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (33.7ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.7ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:31:54) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:32:58) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}

Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:33:33) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}

Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:33:41) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}

Completed in 12ms (View: 7, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:33:54) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}

Completed in 106ms (View: 6, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:34:04) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}

Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:34:35) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:controller=>"books", :action=>"index", :only_path=>true}



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}



ActionView::TemplateError (book_url failed to generate from {:locale=>1, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>1}) on line #26 of app/views/layouts/application.html.erb:
23: <%- rescue => e -%>
24: <%= "Exception while calling 'book_path(1)': #{e.inspect}" %>
25: <%- end -%>
26: <%= book_path(1) %>
27: </pre>
28: <%= debug params %>
29: <br>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    app/views/layouts/application.html.erb:26
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:360:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (32.4ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.2ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:43:50) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



ActionView::TemplateError (undefined local variable or method `logger' for #<ActionController::UrlRewriter:0x16d6874>) on line #22 of app/views/books/index.html.erb:
19: 
20: <br />
21: 
22: <%= link_to 'New book', new_book_path %>

    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):17:in `new_book_path'
    app/views/books/index.html.erb:22
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (37.1ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.1ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:44:06) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}



ActionView::TemplateError (undefined local variable or method `logger' for #<ActionController::UrlRewriter:0x201f214>) on line #22 of app/views/books/index.html.erb:
19: 
20: <br />
21: 
22: <%= link_to 'New book', new_book_path %>

    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:208:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):17:in `new_book_path'
    app/views/books/index.html.erb:22
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (34.9ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.9ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:44:42) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}

--- 
:use_route: :new_book
:locale: en-US
:controller: books
:action: new


{:controller=>"books", :action=>"index", :only_path=>true}

--- 
:locale: en-US
:controller: books
:action: index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}

--- 
:use_route: :new_book
:locale: en-US
:controller: books
:action: new


{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

--- 
:use_route: :new_l_book
:locale: en-US
:controller: l_books
:action: new


{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}

--- 
:use_route: :book
:locale: 1
:controller: books
:action: show
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:45:15) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}

{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---



{:controller=>"books", :action=>"index", :only_path=>true}

{:locale=>"en-US", :controller=>"books", :action=>"index"}
---



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}

{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}

{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 14ms (View: 8, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:47:53) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}

Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
---

Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---



{:controller=>"books", :action=>"index", :only_path=>true}

Original options:
{:locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
---

Changed options:
{:locale=>"en-US", :controller=>"books", :action=>"index"}
---



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}

Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
---

Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :only_path=>true, :action=>"new"}
---

Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}

Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
---

Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 14ms (View: 8, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:48:33) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}

Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---



{:controller=>"books", :action=>"index", :only_path=>true}

Original options:
{:locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"en-US", :controller=>"books", :action=>"index"}
---



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}

Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}

Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:49:07) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}

Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :id=>1, :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :id=>1, :action=>"new"}
---



{:controller=>"books", :action=>"index", :only_path=>true}

Original options:
{:locale=>"en-US", :controller=>"books", :id=>1, :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"en-US", :controller=>"books", :id=>1, :action=>"index"}
---



{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}

Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :id=>1, :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :id=>1, :action=>"new"}
---



{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}

Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :id=>1, :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :id=>1, :action=>"new"}
---



{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}

Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :id=>1, :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :id=>1, :action=>"show"}
---

Completed in 14ms (View: 8, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:49:52) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"en-US", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 14ms (View: 8, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:50:54) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.4ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"en-US", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---



ActionView::TemplateError (book_url failed to generate from {:locale=>1, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>1}) on line #26 of app/views/layouts/application.html.erb:
23: <%- rescue => e -%>
24: <%= "Exception while calling 'book_path(1)': #{e.inspect}" %>
25: <%- end -%>
26: <%= book_path(1) %>
27: </pre>
28: <%= debug params %>
29: <br>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:210:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    app/views/layouts/application.html.erb:26
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:360:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (38.3ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (95.1ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:52:36) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"en-US", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/books]


Processing BooksController#new (for 127.0.0.1 at 2008-10-23 13:52:38) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"new", "controller"=>"books", "locale"=>"en-US"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering books/new
default_url_options is passed options: {:use_route=>:books, :controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:use_route=>:books, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:use_route=>:books, :locale=>"en-US", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:use_route=>:books, :controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:use_route=>:books, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:use_route=>:books, :locale=>"en-US", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"en-US", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 18ms (View: 11, DB: 0) | 200 OK [http://localhost/en-US/books/new]


Processing BooksController#create (for 127.0.0.1 at 2008-10-23 13:52:45) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"commit"=>"Create", "authenticity_token"=>"54b1cc0739b29cf33e49b54c71b28265129bf28c", "action"=>"create", "controller"=>"books", "locale"=>"en-US", "book"=>{"title"=>"Promena", "author"=>"Kafka"}}
Locale set to 'en-US'
  [4;35;1mBook Create (0.7ms)[0m   [0mINSERT INTO "books" ("updated_at", "title", "author", "created_at") VALUES('2008-10-23 11:52:45', 'Promena', 'Kafka', '2008-10-23 11:52:45')[0m
Redirected to #<Book:0x2275bbc>
default_url_options is passed options: {:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :only_path=>false, :action=>"show"}
Original options:
{:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show", :only_path=>false}
Changed options:
{:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show"}
---



ActionController::RoutingError (book_url failed to generate from {:locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">}):
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    /vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:210:in `rewrite_path'
    /vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    /vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    /vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    (eval):15:in `book_url'
    /vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    /vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    /vendor/rails/actionpack/lib/action_controller/base.rb:637:in `url_for'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1067:in `redirect_to'
    /app/controllers/books_controller.rb:48:in `create'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    /vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    /app/controllers/books_controller.rb:45:in `create'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    /vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    /vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    /vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    /vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    /vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    /vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    /vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    /vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    /vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:52:51) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoLbm90aWNlIiNCb29rIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwdG--5af1ecbbc92c333c9e48c77a841961937c10f5be
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"en-US"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
default_url_options is passed options: {:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show"}
---



ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">}) on line #13 of app/views/books/index.html.erb:
10:   <tr>
11:     <td><%=h book.author %></td>
12:     <td><%=h book.title %></td>
13:     <td><%= link_to 'Show', book %></td>
14:     <td><%= link_to 'Edit', edit_book_path(book) %></td>
15:     <td><%= link_to 'Destroy', book, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:210:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:118:in `polymorphic_path'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:91:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:228:in `link_to'
    app/views/books/index.html.erb:13
    app/views/books/index.html.erb:9:in `each'
    app/views/books/index.html.erb:9
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (135.8ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (1.0ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:52:59) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoLbm90aWNlIiNCb29rIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC4GOgpAdXNlZHsGOwdU--9a4666b70f0b599fab43920b2b10db860a1eb400
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.8ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
default_url_options is passed options: {:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show"}
---



ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">}) on line #13 of app/views/books/index.html.erb:
10:   <tr>
11:     <td><%=h book.author %></td>
12:     <td><%=h book.title %></td>
13:     <td><%= link_to 'Show', book %></td>
14:     <td><%= link_to 'Edit', edit_book_path(book) %></td>
15:     <td><%= link_to 'Destroy', book, :confirm => 'Are you sure?', :method => :delete %></td>
16:   </tr>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:210:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `__send__'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:111:in `polymorphic_url'
    vendor/rails/actionpack/lib/action_controller/polymorphic_routes.rb:118:in `polymorphic_path'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:91:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:228:in `link_to'
    app/views/books/index.html.erb:13
    app/views/books/index.html.erb:9:in `each'
    app/views/books/index.html.erb:9
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (35.5ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.7ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:53:20) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"en-US", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 16ms (View: 10, DB: 1) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:53:40) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.5ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"en-US", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

  [4;36;1mBook Load (0.4ms)[0m   [0;1mSELECT * FROM "books" LIMIT 1[0m
default_url_options is passed options: {:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show"}
---



ActionView::TemplateError (book_url failed to generate from {:locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :controller=>"books", :action=>"show"}, expected: {:controller=>"books", :action=>"show"}, diff: {:locale=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">}) on line #26 of app/views/layouts/application.html.erb:
23: <%- rescue => e -%>
24: <%= "Exception while calling 'book_path(1)': #{e.inspect}" %>
25: <%- end -%>
26: <%= book_path(Book.first) %>
27: </pre>
28: <%= debug params %>
29: <br>

    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:376:in `raise_named_route_error'
    vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:340:in `generate'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:210:in `rewrite_path'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:187:in `rewrite_url'
    vendor/rails/actionpack/lib/action_controller/url_rewriter.rb:165:in `rewrite'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:85:in `url_for'
    (eval):15:in `book_path'
    app/views/layouts/application.html.erb:26
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:360:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (31.8ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.7ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:53:48) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.6ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"en-US", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

  [4;36;1mBook Load (0.3ms)[0m   [0;1mSELECT * FROM "books" LIMIT 1[0m
default_url_options is passed options: {:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>#<Book id: 3, author: "Kafka", title: "Promena", created_at: "2008-10-23 11:52:45", updated_at: "2008-10-23 11:52:45">, :action=>"show"}
---

Completed in 15ms (View: 10, DB: 1) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:54:08) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books"}
Locale set to 'en-US'
  [4;35;1mBook Load (0.5ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"en-US", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"en-US", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"en-US", :controller=>"l_books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :action=>"show"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 14ms (View: 9, DB: 1) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:54:27) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;36;1mBook Load (0.5ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"cz", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"cz", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:locale=>"cz", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"cz", :controller=>"books", :action=>"index"}
---

default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"cz", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"cz", :controller=>"books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_l_book, :locale=>"cz", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"cz", :controller=>"l_books", :action=>"new"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :action=>"show"}
---

default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 14ms (View: 9, DB: 1) | 200 OK [http://localhost/cz/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:57:56) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;36;1mBook Load (0.7ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
url_for options: {:use_route=>:new_book, :controller=>"books", :only_path=>true, :action=>"new"}
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"cz", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"cz", :controller=>"books", :action=>"new"}
---

url_for options: "/cz/books/new"
url_for options: {:controller=>"books", :action=>"index"}
default_url_options is passed options: {:controller=>"books", :action=>"index", :only_path=>true}
Original options:
{:locale=>"cz", :controller=>"books", :only_path=>true, :action=>"index"}
Changed options:
{:locale=>"cz", :controller=>"books", :action=>"index"}
---

url_for options: {:use_route=>:new_book, :controller=>"books", :only_path=>true, :action=>"new"}
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_book, :locale=>"cz", :controller=>"books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_book, :locale=>"cz", :controller=>"books", :action=>"new"}
---

url_for options: {:use_route=>:new_l_book, :controller=>"l_books", :only_path=>true, :action=>"new"}
default_url_options is passed options: {:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Original options:
{:use_route=>:new_l_book, :locale=>"cz", :controller=>"l_books", :only_path=>true, :action=>"new"}
Changed options:
{:use_route=>:new_l_book, :locale=>"cz", :controller=>"l_books", :action=>"new"}
---

url_for options: {:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :only_path=>true, :action=>"show"}
default_url_options is passed options: {:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :action=>"show"}
---

url_for options: {:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
default_url_options is passed options: {:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 19ms (View: 13, DB: 1) | 200 OK [http://localhost/cz/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:58:29) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;35;1mBook Load (0.5ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
url_for options: {:use_route=>:new_book, :controller=>"books", :only_path=>true, :action=>"new"}
default_url_options is passed options: {:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}


ActionView::TemplateError (undefined method `merge' for #<String:0x235ac1c>) on line #22 of app/views/books/index.html.erb:
19: 
20: <br />
21: 
22: <%= link_to 'New book', new_book_path %>

    vendor/rails/actionpack/lib/action_controller/base.rb:994:in `rewrite_options'
    vendor/rails/actionpack/lib/action_controller/base.rb:635:in `url_for'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:86:in `send'
    vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb:86:in `url_for'
    (eval):17:in `new_book_path'
    app/views/books/index.html.erb:22
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:250:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:356:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:248:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1156:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:895:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1213:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:48:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:533:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:401:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:180:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:107:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:120:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:119:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:129:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:36:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:141:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:507:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:148:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (34.2ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.9ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:58:39) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;36;1mBook Load (1.2ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
url_for options: {:use_route=>:new_book, :controller=>"books", :only_path=>true, :action=>"new"}
Original options:
{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Changed options:
{:use_route=>:new_book, :controller=>"books", :action=>"new"}
---

url_for options: "/cz/books/new"
url_for options: {:controller=>"books", :action=>"index"}
Original options:
{:controller=>"books", :action=>"index", :only_path=>true}
Changed options:
{:controller=>"books", :action=>"index"}
---

url_for options: {:use_route=>:new_book, :controller=>"books", :only_path=>true, :action=>"new"}
Original options:
{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Changed options:
{:use_route=>:new_book, :controller=>"books", :action=>"new"}
---

url_for options: {:use_route=>:new_l_book, :controller=>"l_books", :only_path=>true, :action=>"new"}
Original options:
{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Changed options:
{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new"}
---

url_for options: {:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :only_path=>true, :action=>"show"}
Original options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :action=>"show", :only_path=>true}
Changed options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :action=>"show"}
---

url_for options: {:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 18ms (View: 11, DB: 1) | 200 OK [http://localhost/cz/books]


Processing BooksController#index (for 127.0.0.1 at 2008-10-23 13:58:57) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlOTFlNmZlMTliZjI2M2FhODI3NzFiMDI1NDU2MDMzMjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--d1af678f0b9b5b353da3e9949fc1d4fb8d8100ae
  Parameters: {"action"=>"index", "controller"=>"books", "locale"=>"cz"}
Locale set to 'cz'
  [4;36;1mBook Load (0.6ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
url_for options: {:use_route=>:new_book, :controller=>"books", :only_path=>true, :action=>"new"}
Original options:
{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Changed options:
{:use_route=>:new_book, :controller=>"books", :action=>"new"}
---

url_for options: "/cz/books/new"
url_for options: {:controller=>"books", :action=>"index"}
Original options:
{:controller=>"books", :action=>"index", :only_path=>true}
Changed options:
{:controller=>"books", :action=>"index"}
---

url_for options: {:use_route=>:new_book, :controller=>"books", :only_path=>true, :action=>"new"}
Original options:
{:use_route=>:new_book, :controller=>"books", :action=>"new", :only_path=>true}
Changed options:
{:use_route=>:new_book, :controller=>"books", :action=>"new"}
---

url_for options: {:use_route=>:new_l_book, :controller=>"l_books", :only_path=>true, :action=>"new"}
Original options:
{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new", :only_path=>true}
Changed options:
{:use_route=>:new_l_book, :controller=>"l_books", :action=>"new"}
---

url_for options: {:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :only_path=>true, :action=>"show"}
Original options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :action=>"show", :only_path=>true}
Changed options:
{:use_route=>:book, :locale=>"cz", :controller=>"books", :id=>1, :action=>"show"}
---

url_for options: {:use_route=>:book, :locale=>1, :controller=>"books", :only_path=>true, :action=>"show"}
Original options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show", :only_path=>true}
Changed options:
{:use_route=>:book, :locale=>1, :controller=>"books", :action=>"show"}
---

Completed in 16ms (View: 11, DB: 1) | 200 OK [http://localhost/cz/books]


Processing ApplicationController#index (for 127.0.0.1 at 2008-11-17 15:50:32) [GET]


ActionController::RoutingError (No route matches "/" with {:method=>:get}):
    /vendor/rails/actionpack/lib/action_controller/routing/recognition_optimisation.rb:66:in `recognize_path'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:385:in `recognize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:182:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:515:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:515:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing BooksController#index (for 127.0.0.1 at 2008-11-17 15:50:36) [GET]
Locale set to 'en-US'
  [4;36;1mBook Load (0.8ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 49ms (View: 40, DB: 1) | 200 OK [http://localhost/books]


Processing BooksController#index (for 127.0.0.1 at 2008-11-17 15:50:39) [GET]
  Parameters: {"locale"=>"cz"}
Locale set to 'cz'
  [4;35;1mBook Load (0.5ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 13ms (View: 8, DB: 1) | 200 OK [http://localhost/cz/books]


Processing ApplicationController#index (for 127.0.0.1 at 2008-11-17 15:50:47) [GET]
  Parameters: {"locale"=>"cz"}


NameError (uninitialized constant LBooksController):
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:439:in `load_missing_constant'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:77:in `const_missing'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:89:in `const_missing'
    /vendor/rails/activesupport/lib/active_support/inflector.rb:352:in `constantize'
    /vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `each'
    /vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `constantize'
    /vendor/rails/activesupport/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    /vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:387:in `recognize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:182:in `handle_request'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    /vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/../lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:515:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    /vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:515:in `new_constants_in'
    /vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    /vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (22.0ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.7ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-11-17 15:51:00) [GET]
  Parameters: {"locale"=>"cz"}
Locale set to 'cz'
  [4;36;1mBook Load (0.6ms)[0m   [0;1mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index


ActionView::TemplateError (undefined local variable or method `new_l_book_path' for #<ActionView::Base:0x340e234>) on line #19 of app/views/layouts/application.html.erb:
16: 
17: <%= new_book_path %>
18: 
19: <%= new_l_book_path %>
20: 
21: <%= book_path('cz', 1) %>
22: 

    app/views/layouts/application.html.erb:19
    vendor/rails/actionpack/lib/action_view/renderable.rb:37:in `send'
    vendor/rails/actionpack/lib/action_view/renderable.rb:37:in `render'
    vendor/rails/actionpack/lib/action_view/template.rb:73:in `render_template'
    vendor/rails/actionpack/lib/action_view/base.rb:251:in `render'
    vendor/rails/actionpack/lib/action_view/base.rb:365:in `_render_with_layout'
    vendor/rails/actionpack/lib/action_view/base.rb:249:in `render'
    vendor/rails/actionpack/lib/action_controller/base.rb:1174:in `render_for_file'
    vendor/rails/actionpack/lib/action_controller/base.rb:905:in `render_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `send'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:135:in `custom'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `call'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:164:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `each'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:158:in `respond'
    vendor/rails/actionpack/lib/action_controller/mime_responds.rb:107:in `respond_to'
    app/controllers/books_controller.rb:7:in `index'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:1253:in `perform_action_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:293:in `measure'
    vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    vendor/rails/actionpack/lib/action_controller/rescue.rb:136:in `perform_action_without_caching'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    vendor/rails/activerecord/lib/active_record/query_cache.rb:8:in `cache'
    vendor/rails/actionpack/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `send'
    vendor/rails/actionpack/lib/action_controller/base.rb:524:in `process_without_filters'
    vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process_without_session_management_support'
    vendor/rails/actionpack/lib/action_controller/session_management.rb:134:in `process'
    vendor/rails/actionpack/lib/action_controller/base.rb:392:in `process'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:183:in `handle_request'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
    vendor/rails/actionpack/lib/action_controller/dispatcher.rb:39:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:76:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/rails.rb:74:in `process'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:282:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `each'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/configurator.rb:281:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:128:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/lib/mongrel/command.rb:212:in `run'
    /Library/Ruby/Gems/1.8/gems/mongrel-1.1.4/bin/mongrel_rails:281
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load_without_new_constant_marking'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:515:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:142:in `load'
    vendor/rails/railties/lib/commands/servers/mongrel.rb:64
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:515:in `new_constants_in'
    vendor/rails/activesupport/lib/active_support/dependencies.rb:153:in `require'
    vendor/rails/railties/lib/commands/server.rb:49
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_trace (30.7ms)
Rendered /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/_request_and_response (0.7ms)
Rendering /Users/karmi/Playground/Rails/test_default_url_options/vendor/rails/actionpack/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing BooksController#index (for 127.0.0.1 at 2008-11-17 15:51:13) [GET]
  Parameters: {"locale"=>"cz"}
Locale set to 'cz'
  [4;35;1mBook Load (0.5ms)[0m   [0mSELECT * FROM "books" [0m
Rendering template within layouts/application
Rendering books/index
Completed in 15ms (View: 9, DB: 1) | 200 OK [http://localhost/cz/buks]


Processing BooksController#new (for 127.0.0.1 at 2008-11-17 15:51:16) [GET]
  Parameters: {"locale"=>"cz"}
Locale set to 'cz'
Rendering template within layouts/application
Rendering books/new
Completed in 38ms (View: 32, DB: 0) | 200 OK [http://localhost/cz/books/new]


Processing BooksController#new (for 127.0.0.1 at 2008-11-17 15:51:51) [GET]
  Parameters: {"locale"=>"cz"}
Locale set to 'cz'
Rendering template within layouts/application
Rendering books/new
Completed in 15ms (View: 9, DB: 0) | 200 OK [http://localhost/cz/books/new]
